[{"id":0,"href":"/%E6%8A%80%E6%9C%AF%E8%AE%B0%E5%BD%95/github-pages/","title":"Github Pages","parent":"技术记录","content":"GitHub pages相当于自己的网站，域名为\u0026lt;username\u0026gt;.github.io。\nGithub pages支持html格式的文件和markdown格式的文件。入口文件为index.html或index.md。\n概述\r\r\r\r例子使用markdown文件，并且用loppo工具来生成html文件。使用GitHub Actions自动化执行生成html文件操作，并且自动部署到docs分支下。\n使用loppo的主要原因是它可以自动生成索引，不需要自己写一个文件作为索引。\n流程\r\r\r\r 在master分支下编写loppo.yml、.github/workflows/\u0026lt;自定义文件名\u0026gt;.yml文件，使用npm init生成package.json文件。 在docs文件夹下编写markdown文件。 Push到GitHub，自动执行Actions。  配置文件介绍\r\r\r\rloppo.yml\r\r\r\rdir:docs# 源文件夹output:dist# 目标文件夹site:Documentstheme:oceandeepcustomization:falsethemeDir:loppo-themedirection:ltrid:JetYang98.github.iopackage.json\r\r\r\r使用npm init命令生成。注意添加dependencies属性。\n{ \u0026#34;name\u0026#34;: \u0026#34;jetyang98.github.io\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;1.0.0\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;main\u0026#34;: \u0026#34;index.js\u0026#34;, \u0026#34;directories\u0026#34;: { \u0026#34;doc\u0026#34;: \u0026#34;docs\u0026#34; }, \u0026#34;scripts\u0026#34;: { \u0026#34;build\u0026#34;: \u0026#34;loppo\u0026#34; }, \u0026#34;repository\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;git\u0026#34;, \u0026#34;url\u0026#34;: \u0026#34;git+https://github.com/jetyang98/JetYang98.github.io.git\u0026#34; }, \u0026#34;author\u0026#34;: \u0026#34;Jet Yang\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;Apache\u0026#34;, \u0026#34;bugs\u0026#34;: { \u0026#34;url\u0026#34;: \u0026#34;https://github.com/jetyang98/JetYang98.github.io/issues\u0026#34; }, \u0026#34;homepage\u0026#34;: \u0026#34;https://github.com/jetyang98/JetYang98.github.io#readme\u0026#34;, \u0026#34;dependencies\u0026#34;: { \u0026#34;loppo\u0026#34;: \u0026#34;^0.6.23\u0026#34; } } GitHub Actions配置\r\r\r\r见GitHub Actions。\n修改GitHub Pages默认显示分支\r\r\r\rSettings -\u0026gt; Pages -\u0026gt; Branch改为docs。\n"},{"id":1,"href":"/","title":"Jet Yang's Blog","parent":"","content":""},{"id":2,"href":"/%E6%8A%80%E6%9C%AF%E8%AE%B0%E5%BD%95/","title":"技术记录","parent":"Jet Yang's Blog","content":""},{"id":3,"href":"/%E6%8A%80%E6%9C%AF%E8%AE%B0%E5%BD%95/github-actions/","title":"Github Actions","parent":"技术记录","content":"GitHub actions是一个非常好用的自动化工具，可以在满足某种条件下，自动执行某些任务。比如当代码push到master时，在Ubuntu平台下执行node.js脚本等。\n如何使用\r\r\r\r创建工作流\r\r\r\r在GitHub网页上点击Actions创建一个新的工作流。\n模板介绍\r\r\r\rname:CI# 任务触发条件on:# 当push到master时触发push:branches:[master ]# 当pr到master时触发pull_request:branches:[master ]# Allows you to run this workflow manually from the Actions tabworkflow_dispatch:# A workflow run is made up of one or more jobs that can run sequentially or in paralleljobs:build-pages:# 该job运行平台runs-on:ubuntu-latest# Steps represent a sequence of tasks that will be executed as part of the jobsteps:# Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it- uses:actions/checkout@v2# 安装node.js- name:Setup Node.jsuses:actions/setup-node@mainwith:node-version:\u0026#39;12.18.3\u0026#39;# 安装依赖，使用package.json文件- name:Install dependenciesrun:npm install# 运行package.json文件里的build命令- name:Build pagesrun:npm run build# 把dist文件夹的内容部署到docs分支下- name:Deploy to websiteuses:JamesIves/github-pages-deploy-action@4.1.4with:branch:docs# The branch the action should deploy to.folder:dist# The folder the action should deploy."},{"id":4,"href":"/categories/","title":"Categories","parent":"Jet Yang's Blog","content":""},{"id":5,"href":"/tags/","title":"Tags","parent":"Jet Yang's Blog","content":""}]